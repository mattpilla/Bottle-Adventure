<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Bottle Adventure</title>
        <style>
            body {
                background-color: #000;
                max-width: 900px;
                margin: auto;
            }
        </style>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div id="ba">
            <table id="ba-table">
                <tbody>
                    <tr>
                        <td></td>
                        <td v-for="i in 16">&nbsp;{{(i - 1).toString(16)}}</td>
                    </tr>
                    <tr v-for="(row, i) in rows">
                        <td>{{(i * 16 + hexStart).toString(16)}}</td>
                        <td v-for="(col, j) in row" :class="{hit: col !== 'ff' && col !== '--', lone: col === '01', time: col.endsWith('x'), zero: col === '00', unreachable: col === '--', byte: col !== '--', selected: i === cell.i && j === cell.j}" @click="setByte(i, j)">{{col.substr(0,2)}}</td>
                    </tr>
                    <tr>
                        <td colspan="17" class="separator"></td>
                    </tr>
                    <tr v-for="(row, i) in extraRows">
                        <td>{{(i * 16 + hexStart + 2032).toString(16)}}</td>
                        <td v-for="(col, j) in row" :class="{hit: col !== 'ff' && col !== '--', lone: col === '01', time: col.endsWith('x'), zero: col === '00', unreachable: col === '--', byte: col !== '--'}" @click="setByte(i, j, true)">{{col.substr(0,2)}}</td>
                    </tr>
                </tbody>
            </table>
            <div id="ba-controls">
                <button v-for="(v, k) in versions" class="ba-button" :class="{selected: version === k}" @click="version = k">{{v}}</button><br>
                <button v-for="(v, k) in endians" class="ba-button" :class="{selected: endian === k}" @click="endian = k">{{v}}</button><br>
                <div id="ba-start">
                    <span>Start: 0x</span><input v-model="start"><button @click="resetStart">Reset</button>
                </div>
                <div id="timestamp">Timestamp: 0x<span>{{timestamp.join('')}}</span></div>
                <table id="ba-items">
                    <tr v-for="i in 8">
                        <td v-for="j in 6" :class="{selected: item === getIndex(i, j)}" @click="setItem(i, j)">
                            <img :src="`icons/${getIndex(i, j)}.png`"></img>
                        </td>
                    </tr>
                    <tr>
                        <td :class="{selected: item === 'empty'}" @click="item = (item === 'empty' ? null : 'empty')">
                            <img src="icons/empty.png"></img>
                        </td>
                        <td colspan="5" class="item-name">{{item === 'empty' ? 'Empty C/Transformation B' : itemNames[item]}}</td>
                    </tr>
                </table>
                <div id="ba-info">
                    <span>{{address}}</span>
                </div>
            </div>
        </div>
        <script src="vue.js"></script>
        <script src="main.js"></script>
    </body>
</html>
